angular.module("todoApp",["ngRoute","ui.bootstrap","todoApp.controllers","todoApp.services","todoApp.directives","todoAppConstants"]).config(["$routeProvider","$locationProvider",function(a,b){b.html5Mode(!0),a.when("/To-Do-Application",{templateUrl:"To-Do-Application/views/home.html",controller:"homeController"}).when("/To-Do-Application/all",{templateUrl:"To-Do-Application/views/all.html",controller:"allTodosController"}).when("/To-Do-Application/done",{templateUrl:"To-Do-Application/views/done.html",controller:"doneTodosController"}).otherwise({templateUrl:"To-Do-Application/views/home.html",controller:"homeController"})}]),angular.module("todoApp.controllers",[]).controller("homeController",["$scope","categoryList","todoService","$timeout",function(a,b,c,d){a.categories=b,a.todayTodos=c.getTodaysTodos(),a.dateValue=new Date,a.addTodo=function(){"Select a category"===a.task.category&&(a.task.category="Others",a.task.icon="fa fa-reorder");var b={category:a.task.category,icon:a.task.icon,description:a.task.description,date:a.dateValue,done:""};c.addTodo(b),a.todayTodos=c.getTodaysTodos(),a.task.category="Select a category",a.dateValue=new Date,a.addMessage="todo added!",d(function(){a.addMessage=""},2e3),a.task.description=""},a.showCalender=function(){a.popup1.opened=!0},a.updateValue=function(b){c.updateTodo(b),a.todayTodos=c.getTodaysTodos()}}]).controller("allTodosController",["$scope","todoService","$timeout",function(a,b,c){a.allTodos=b.getallTodos(),a.clearTodoList=function(){b.clearTodoList(),a.allTodos=b.getallTodos(),a.clearMessage="todo-list cleaned!",c(function(){a.clearMessage=""},2e3)},a.updateValue=function(c){b.updateTodo(c),a.allTodos=b.getallTodos()}}]).controller("doneTodosController",["$scope","todoService","$timeout",function(a,b,c){a.doneTodos=b.getDoneTodos(),a.clearDoneList=function(){b.clearDoneList(),a.doneTodos=b.getDoneTodos(),a.clearDoneMessage="done todos cleared!",c(function(){a.clearDoneMessage=""},2e3)}}]),angular.module("todoApp.services",[]).service("todoService",["$filter",function(a){var b=[];if(localStorage.getItem("todoList")){var c=JSON.parse(localStorage.getItem("todoList"));for(var d in c)b.push(c[d])}this.addTodo=function(a){b.push(a),updatelocalStorage()},this.clearDoneList=function(){var a=[];angular.forEach(b,function(b){b.done||a.push(b)}),b=a,updatelocalStorage()},this.clearTodoList=function(){localStorage.removeItem("todoList"),b=[],updatelocalStorage()},this.getallTodos=function(){return b},this.updateTodo=function(a){updatelocalStorage()},this.getTodaysTodos=function(){var c=[];return angular.forEach(b,function(b){a("date")(b.date,"dd/MM/yyyy")===a("date")(new Date,"dd/MM/yyyy")&&c.push(b)}),c},this.getDoneTodos=function(){var a=[];return angular.forEach(b,function(b){b.done&&a.push(b)}),a},updatelocalStorage=function(){localStorage.setItem("todoList",JSON.stringify(b))}}]),angular.module("todoApp.directives",[]).directive("datePicker",function(){return{restrict:"E",scope:{dateValue:"="},templateUrl:"To-Do-Application/views/datepicker.html",controller:["$scope",function(a){function b(a){var b=a.date,c=a.mode;return"day"===c&&(0===b.getDay()||6===b.getDay())}function c(b){var c=b.date,d=b.mode;if("day"===d)for(var e=new Date(c).setHours(0,0,0,0),f=0;f<a.events.length;f++){var g=new Date(a.events[f].date).setHours(0,0,0,0);if(e===g)return a.events[f].status}return""}a.today=function(){a.dateValue=new Date},a.today(),a.inlineOptions={customClass:c,minDate:new Date,showWeeks:!1},a.dateOptions={dateDisabled:b,formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},a.toggleMin=function(){a.inlineOptions.minDate=a.inlineOptions.minDate?null:new Date,a.dateOptions.minDate=a.inlineOptions.minDate},a.toggleMin(),a.open2=function(){a.popup2.opened=!0},a.setDate=function(b,c,d){a.dateValue=new Date(b,c,d)},a.popup2={opened:!1}}]}}),angular.module("todoAppConstants",[]).constant("categoryList",{grocery:{name:"Shopping erands",icon:"fa fa-shopping-cart"},travel:{name:"Travel and bookings",icon:"fa fa-plane"},payments:{name:"Payments and dues",icon:"fa fa-credit-card-alt"},healthcare:{name:"Healthcare",icon:"fa fa-heartbeat"},birthday:{name:"Birthday",icon:"fa fa-birthday-cake"},others:{name:"Others",icon:"fa fa-reorder"}});